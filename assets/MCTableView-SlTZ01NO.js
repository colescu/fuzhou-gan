import{d as v,aN as I,n as A,p as L,b as _,U as T,r as U,k,w as V,o as a,h as d,c as l,s as g,x as C,u as f,a4 as b,t as h,F as i,i as N,aZ as B,_ as S,ao as E,aR as G,g as R,T as j,aU as F}from"./app-xu_rIrQu.js";import{a as M}from"./form-predict-9FcqhtJm.js";import{u as H}from"./useDraggable-9TAz5uiK.js";import{S as O}from"./StickyTable-CFrryrqS.js";import"./table-BHpxoyAt.js";const $=["language"],D=["column-key"],q=v({__name:"MCTable",props:{syllables:{}},setup(m){const p=I(),r=A(),y=L(r,"languages"),c=_(()=>[{title:"例字",key:"char"},{title:"音韻地位",key:"MCInfo"},...r.languages.map(e=>({title:T[e],key:e}))]),t=_(()=>m.syllables.map(e=>({char:e.MC.字,MCInfo:e.MC.音韻地位(p.orderingMCInfo),...Object.fromEntries(r.languages.map(u=>[u,e[u]]))}))),s=U(null);return H(s,[{ordering:y,keyName:"language",draggable:".language"}]),(e,u)=>(a(),k(O,null,{default:V(()=>[d("thead",null,[d("tr",{ref_key:"header",ref:s},[(a(!0),l(i,null,g(c.value,n=>(a(),l("th",{key:n.key,language:n.key,class:C({clickable:f(b).includes(n.key)})},h(n.title),11,$))),128))],512)]),d("tbody",null,[(a(!0),l(i,null,g(t.value,(n,x)=>(a(),l("tr",{key:x},[(a(!0),l(i,null,g(c.value,(o,w)=>(a(),l("td",{key:w,"column-key":o.key,class:C({"align-left":o.key==="MCInfo"})},[f(b).includes(o.key)?(a(),k(B,{key:1,pronunciation:n[o.key],language:o.key},null,8,["pronunciation","language"])):(a(),l(i,{key:0},[N(h(n[o.key]),1)],64))],10,D))),128))]))),128))])]),_:1}))}}),z=S(q,[["__scopeId","data-v-2e283317"]]),J=["innerHTML"],P=v({__name:"MCTableView",setup(m){const p=E(),r=JSON.parse(p.query.condition),y=_(()=>Object.values(G.get()).filter(t=>r.every(s=>M(s).getter(t)===s.value)));function c(t){const{language:s}=t;let e=t.value;if(s!=="MC"){const{show:u}=F[t.language];e=u(e,t.field,"ipaRaw")}return[s==="MC"?"中古":T[s],M(t).label,' <span class="operator">=</span> ',e??"Ø"].join("")}return(t,s)=>(a(),l("div",null,[(a(!0),l(i,null,g(f(r),e=>(a(),l("div",{class:"title",innerHTML:c(e)},null,8,J))),256)),R(z,{syllables:y.value},null,8,["syllables"]),(a(),k(j,{to:"#help"},[s[0]||(s[0]=N(" 讀音均爲推導音。 ",-1))]))]))}}),Y=S(P,[["__scopeId","data-v-d4eeda03"]]);export{Y as default};
